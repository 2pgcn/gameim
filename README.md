# GAMEIM
gameim主要为im聊天系统,最开始专为游戏设计,区服/工会聊天,单聊,可作为通用聊天系统
## 性能测试
压测server端8核 15w连接,15w/s消息读写,稳定20分钟,阿里云c7(2.7 GHz/3.5 GHz),稳定75%,内存占用9G
![server.png](readme/server.png)
压测客户端单台12核共5个网卡,15w连接,15w/s消息读写,(选12核机器是为了能绑定5个网卡)
![client.png](readme/client.png)
共接收/发送4亿消息
```shell
2024-04-14 17:02:30 alive:150000 send:404114454 send/s:149986
2024-04-14 17:02:33 alive:150000 down:404564442 down/s:150000
2024-04-14 17:02:33 alive:150000 send:404564442 send/s:149996
2024-04-14 17:02:36 alive:150000 down:405014442 down/s:150000
2024-04-14 17:02:36 alive:150000 send:405014442 send/s:150000
2024-04-14 17:02:39 alive:150000 down:405350093 down/s:111883
2024-04-14 17:02:39 alive:150000 send:405464430 send/s:149996
2024-04-14 17:02:42 alive:150000 down:405914421 down/s:188109
2024-04-14 17:02:42 alive:150000 send:405914439 send/s:150003
2024-04-14 17:02:45 alive:150000 down:406364402 down/s:149993
2024-04-14 17:02:45 alive:150000 send:406364402 send/s:149987
2024-04-14 17:02:48 alive:150000 down:406814390 down/s:149996
2024-04-14 17:02:48 alive:150000 send:406814401 send/s:149999
2024-04-14 17:02:51 alive:150000 down:407264375 down/s:149995
2024-04-14 17:02:51 alive:150000 send:407264390 send/s:149996
```
## 模块划分
### comet
连接层,负责连接,心跳,断线重连,消息转发,消息路由,转发具体逻辑到logic层,处理完后通过队列发回comet推送给对应客户

